# The protocol

A tokenized vault with a mil DVT tokens, offering flashloans for free until grace period ends.

Show it is possible to halt the vault, must stop offering loans.

Ideas:

- For the vault to stop working, we need to make sure a check always comes back as false. Reverting in this instance is the only way we can stop this contract from functioning i.e. giving out flashloans.

## Logic

- In the flashLoan()
  totalAssets refers to the total amount of underlying tokens held and managed by the vault. Subject vault performance
  totalSupply refers to the total number of vault-specific share tokens that have neen minted and in circulation
  totalSupply is an ERC20 function and being passed to convert to shares which is a 4626 functionality which changes the supply of token shares from the vault.
  We are creating a discrepancy between the DVT tokens in the vault and the minted shares. Because if you want to send to vault and mint shares there's a whole mapping to it.

  totalAsset is subject to change since tokens can be transfered to the vault.
  since tokens and supply minted should be equal this would break the protocol if the above occured

## Solution

By changing the balance of the vault, you are making the check true and therefore invalid balance everytime it is deployed.
`token.transfer(address(vault), 1);`

`forge test --mp test/folderName/test.t.sol` - run the test
